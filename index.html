<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>823即時開票App</title>
  <link rel="icon" type="image/png" href="Assets/VoteNow_dark.png">
  <style>
    :root{
      --bg: #F5F1EA;              /* ContentView 背景米色 */
      --red: #EE202A;             /* 主要紅色 */
      --dark: #3C3C3C;            /* 次要深灰 */
      --orange: #FF8C2A;          /* 次要橘色（近似 app 中的亮橘） */
      --radius: 20px;
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, system-ui, sans-serif;
      background: var(--bg);
      display:flex;align-items:center;justify-content:center;
      color:#111;
    }
    .card{
      width:min(620px, 92vw);
      border-radius: var(--radius);
      padding:28px 24px;
      position:relative;
    }
    .header{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:16px;
      text-align:center;
    }
    .app-icon{
      width:120px;
      height:120px;
      background:#fff;
      border-radius:24px;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 8px 24px rgba(0,0,0,.1), 0 0 60px rgba(238,32,42,.3);
      margin-bottom:16px;
      position:relative;
    }
    .app-icon::before{
      content:'';
      position:absolute;
      top:-20px;
      left:-20px;
      right:-20px;
      bottom:-20px;
      background:radial-gradient(circle, rgba(238,32,42,.2) 0%, transparent 70%);
      border-radius:40px;
      z-index:-1;
    }
    .app-icon img{
      width:90px;
      height:90px;
      object-fit:contain;
    }
    h1{margin:0;font-size:32px;font-weight:800;letter-spacing:.3px}
    .subtitle{margin:.35rem 0 1.25rem;color:var(--red);font-weight:700;text-align:center}

    .btn{display:flex;align-items:center;justify-content:center;gap:.6rem;
      width:100%; height:56px; border:none; border-radius: var(--radius);
      font-size:18px;font-weight:700; cursor:pointer; text-decoration:none;
      transition:transform .12s ease, box-shadow .12s ease; margin-bottom:12px;}
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:var(--red);color:#fff;box-shadow:0 8px 18px rgba(238,32,42,.28)}
    .btn-primary:hover{box-shadow:0 10px 22px rgba(238,32,42,.34)}

    .btn-row{display:flex;gap:12px;margin-top:12px}
    .btn-dark{background:var(--dark);color:#fff}
    .btn-orange{background:var(--dark);color:#fff}

    .tip{margin-top:14px;color:#555;font-size:14px;line-height:1.6}

    .hero{
      position:absolute;right:18px;bottom:18px;opacity:.08;pointer-events:none;
      font-size:92px
    }
  </style>
</head>
<body>
  <main class="card" role="main">
    <div class="header">
      <div class="app-icon">
        <img src="Assets/VoteNow_dark.png" alt="App Icon">
      </div>
      <h1>823即時開票App</h1>
    </div>
    <div class="subtitle">投票點地圖、開票進度、投票須知，一手掌握！</div>

    <a class="btn btn-primary" href="https://appclip.apple.com/id?p=com.hongyinull.votenow.Clip">
      <span>開啟！投票點地圖</span>
    </a>

    <a class="btn btn-orange" href="https://apps.apple.com/app/id6749026146" target="_blank" rel="noopener">
      <span>AppStore下載</span>
    </a>

    <div class="btn-row">
      <a class="btn btn-dark" href="https://pse.is/yinulldonate" target="_blank" rel="noopener">抖內支持</a>
    </div>

    <p class="tip">若未自動顯示 App Clip 卡片，請以 Safari 開啟本頁。iOS 14+ 以上支援。</p>
    <div class="hero">🗳️</div>
  </main>

  <script>
    // 检测是否为iOS设备
    function isIOS() {
      return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
             (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    }

    // 检测是否为Safari浏览器
    function isSafari() {
      return /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);
    }

    // 如果是iOS设备，自动尝试打开App Clip
    if (isIOS()) {
      // 延迟一点时间让页面完全加载
      setTimeout(() => {
        const appClipUrl = 'https://appclip.apple.com/id?p=com.hongyinull.votenow.Clip';
        
        // 如果不是Safari，尝试强制在Safari中打开
        if (!isSafari()) {
          // 使用Safari的URL scheme来强制打开
          const safariUrl = `x-web-search://?${encodeURIComponent(appClipUrl)}`;
          window.location.href = safariUrl;
        } else {
          // 如果是Safari，直接打开App Clip
          window.location.href = appClipUrl;
        }
      }, 1000);
    }
  </script>
</body>
</html>